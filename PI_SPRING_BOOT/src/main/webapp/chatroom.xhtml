<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:b="http://bootsfaces.net/ui"
	
	xmlns:p="http://primefaces.org/ui">
	


<h:head>
<ui:insert name="title"></ui:insert>

<meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <title>AdminLTE 2 | Dashboard</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css"/>
  <!-- Ionicons -->
  <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css"/>
  <!-- jvectormap -->
  <link rel="stylesheet" href="bower_components/jvectormap/jquery-jvectormap.css"/>
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.min.css"/>
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css"/>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Font -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic"/>
<!-- jQuery 3 -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- FastClick -->
<script src="bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.min.js"></script>
<!-- Sparkline -->
<script src="bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- jvectormap  -->
<script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- SlimScroll -->
<script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- ChartJS -->
<script src="bower_components/chart.js/Chart.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="dist/js/pages/dashboard2.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>
<!--  DEUX SCRIPT POUR DATEPICKER DISPLAY -->
<script src="dist/js/moment.min.js" /> 
<script src="bootstrap-datepicker.js" charset="UTF-8"></script>

<script src="dist/js/bootstrap-datetimepicker.min.js" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>




</h:head>
<h:body>

<ui:include src="/WEB-INF/include/header.xhtml"></ui:include>
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <section class="content">
<ui:insert name="content">
	<h1>PAGE 2</h1>
	<b:form>
	<b:dataTable value="#{chatroomcontroller.getAllRooms()}" var="rooms">
   <b:dataTableColumn value="#{rooms.id}" label="ID" />
    <b:dataTableColumn value="#{rooms.maxusers}" label="MAX USERS" />
     <b:dataTableColumn value="#{rooms.roomname}" label="ROOM NAME" />
       <b:dataTableColumn value="#{rooms.roomtype}" label="ROOM TYPE" />
       <b:dataTableColumn label="Action">
         <b:commandButton look="success" style="width:100px"  value="JOIN " action="#{chatroomcontroller.JoinRoom(rooms.id)}" disabled="#{rooms.maxusers eq 0}"  ></b:commandButton>
       <b:commandButton look="info" style="width:140px"  value="FIND CONNECTED " action="#{chatroomcontroller.FindConnectedUser(rooms.id)}"  ></b:commandButton>
      
         </b:dataTableColumn>
  </b:dataTable>

<h:outputScript target="head">
$(document).ready(function(){
  $("#aff").click(function(){
    $("#orangeModalSubscription").toggle();
  });
});
</h:outputScript>


  <b:dataTable value="#{chatroomcontroller.listconnecte}" var="connected">
   <b:dataTableColumn value="#{connected.firstname}" label="FIRST NAME" />
    <b:dataTableColumn value="#{connected.lastname}" label="LAST NAME" />
     <b:dataTableColumn label="online">
    <span aria-label="En ligne" style="background: rgb(66, 183, 42) none repeat scroll 0% 0%; border-radius: 50%; display: inline-block; height: 10px; margin-left: 4px; width: 10px;"></span>
    </b:dataTableColumn>
     <b:dataTableColumn label="KICK">
    <b:commandButton look="danger" style="width:150px"  value="KICK USER " action="#{usercontroller.KickUser(connected.id)}"  ></b:commandButton>
   
     <b:commandButton id="aff" look="danger" label="chat" style="width:150px"  value="CHAT" action="#{chatroomcontroller.getReciptId(connected.id)}"></b:commandButton>
  	<a href="" style="border-radius: 25px; color: " class="btn btn-default btn-rounded" data-toggle="modal" data-target="#orangeModalSubscription">MESSAGES</a>
     </b:dataTableColumn>  
 </b:dataTable>
   <h:inputText style="width: 250px;" label="Periode" label-style="width:150px"  value="#{chatroomcontroller.name}"></h:inputText> 
   <h:inputText style="width: 250px;" label="Periode" label-style="width:150px"  value="#{chatroomcontroller.type}"></h:inputText> 
   <h:inputText style="width: 250px;" label="Periode" label-style="width:150px"  value="#{chatroomcontroller.maxusers}"></h:inputText> 
<b:commandButton look="primary" style="width:100px"  value="ADD ROOM" action="#{chatroomcontroller.addchat()}" ></b:commandButton>

<!--- yibda minna form -->


<div class="modal fade" id="orangeModalSubscription" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-notify modal-warning" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header text-center">
        <h4 class="modal-title white-text w-100 font-weight-bold py-2">Subscribe</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>

      <!--Body-->
      <div class="modal-body">
        <div class="md-form mb-5">
          <i class="fas fa-user prefix grey-text"></i>
           <b:inputText style="width: 250px;" label="Message" label-style="width:150px" value="#{chatroomcontroller.messages}"></b:inputText>
        </div>

        <div class="md-form">
          <i class="fas fa-envelope prefix grey-text"></i>
           <b:inputText style="width: 250px;" label="Content" label-style="width:150px" value="#{chatroomcontroller.content}"></b:inputText>
        </div>
        
        
         <div class="md-form">
          <i class="fas fa-envelope prefix grey-text"></i>
           <b:inputText style="width: 250px;" label="typemsg" label-style="width:150px" value="#{chatroomcontroller.typemsg}"></b:inputText>
        </div>
        
      </div>

      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <b:commandButton look="success" style="width:100px"  value="SAVE " action="#{chatroomcontroller.sendmessageToUser()}" ></b:commandButton>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>


<!-- youfa linna lform -->


  
  </b:form>
  </ui:insert>
  </section>
</section>
</div>


<ui:include src="/WEB-INF/include/footer.xhtml"></ui:include>

</h:body>
</html>